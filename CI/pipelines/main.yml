agents:
  queue: cardano-wallet

env:
  LC_ALL: "C.UTF-8"
  NIX_PATH: "channel:nixos-24.11"
  CI_DIR: "./CI"
  CI_SCRIPTS_DIR: "./CI/scripts"
  SHELL: "nix develop path:$CI_DIR --command"

  linux: "x86_64-linux"

steps:

  - label: Check Nix (linux)
    # Check whether regenerate.sh was applied when it had to be applied.
    key: linux-nix
    commands:
      - nix --version
    agents:
      system: ${linux}

  - label: Build Docs
    depends_on:
      - linux-nix
    commands:
      - $CI_SCRIPTS_DIR/build-docs.sh
    agents:
      system: ${linux}
